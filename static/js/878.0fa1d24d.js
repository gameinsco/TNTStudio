"use strict";(self["webpackChunktikitaka"]=self["webpackChunktikitaka"]||[]).push([[878],{353:function(e,t,i){i.r(t),i.d(t,{default:function(){return ue}});var s=i(3396),l=i(7139),m=i(6372),n=i(1222),a=i(6824),c=i(8521),o=i(240),u=i(165);const d=e=>((0,s.dD)("data-v-04296823"),e=e(),(0,s.Cn)(),e),r={class:"reserve-form"},h=(0,s.uE)('<div class="title-box" data-v-04296823><div class="title-first" data-v-04296823><span class="title-span" data-v-04296823> TNT STUDIO 견적/예약 </span></div><div class="title-second" data-v-04296823><div class="document-title" data-v-04296823><span class="document-span" data-v-04296823> 담 당 자 </span></div><div class="document-title" data-v-04296823><span class="document-span" data-v-04296823> 사 용 자 </span></div><div class="document-title" data-v-04296823><span class="document-span" data-v-04296823> 대여승인 </span></div><div class="sign-con" data-v-04296823></div></div><div class="title-third" data-v-04296823><div class="document-title" data-v-04296823><input style="width:100%;margin:4px;" data-v-04296823></div><div class="document-title" data-v-04296823><input style="width:100%;margin:4px;" data-v-04296823></div><div class="document-title" data-v-04296823><span class="document-span" data-v-04296823> 반납승인 </span></div><div class="sign-con" data-v-04296823></div></div></div>',1),p={class:"info-con"},g={class:"info"},q={class:"title-info"},v=d((()=>(0,s._)("p",{class:"title"},"스튜디오",-1))),b={class:"calender-box"},S={class:"schedule-con"},T=d((()=>(0,s._)("p",{class:"title"},"스케줄",-1))),f={class:"date-picker"},E={class:"time-con"},_=d((()=>(0,s._)("p",{class:"time-title",style:{"margin-top":"20px"}},"시간",-1))),k=d((()=>(0,s._)("p",{class:"sub-title"},"최소 3시간 이상",-1))),N={key:0,class:"time-box"},x={style:{margin:"auto",width:"80%"}},y={class:"time-apply",style:{display:"flex","justify-content":"right",margin:"8px 0px"}},w={class:"equipment-con"},L=d((()=>(0,s._)("p",{class:"equipment-title"},"장비",-1))),P=d((()=>(0,s._)("p",{class:"sub-title"},"필요하신 장비를 선택해 주세요",-1))),D={key:0},A={class:"sub-title"},C=d((()=>(0,s._)("p",{class:"num-title"},"총인원",-1))),F={class:"sub-title"},U={class:"num-box",style:{display:"flex","justify-content":"space-between","align-items":"center"}},V={class:"",style:{display:"flex",padding:"12px","align-items":"center"}},z={style:{margin:"0px 30px","font-size":"16px"}},M={class:"price-con"},H=d((()=>(0,s._)("hr",{style:{"margin-bottom":"20px"}},null,-1))),W={class:"price-box"},I={class:"price-text"},j={class:"price-value"},B={class:"price-box"},O={class:"price-text"},$={class:"price-value"},K={class:"price-box"},Y=d((()=>(0,s._)("span",{class:"price-text"}," 장비 가격 ",-1))),G={class:"price-value"},R=d((()=>(0,s._)("hr",{style:{margin:"20px 0px"}},null,-1))),Z={class:"price-box"},J=d((()=>(0,s._)("span",{class:"total-text"},"총 가격",-1))),Q={class:"total-value"},X=d((()=>(0,s._)("div",{class:"sign-box"},[(0,s._)("span",null,"위와 같이 TNT Studio 장비 대여를 신청합니다."),(0,s._)("br"),(0,s._)("br"),(0,s._)("div",{class:"sign"},[(0,s._)("span",{class:"sign-text"},"신청인"),(0,s._)("div",null,[(0,s._)("img")]),(0,s._)("span",{class:"sign-confirm"},"(인)")])],-1))),ee=d((()=>(0,s._)("div",{class:"caution-box"},[(0,s.Uk)(" ※ 유의사항"),(0,s._)("br"),(0,s.Uk)(" 장비/비품 대여는 수량이 한정되어 있어 선예약 이용자를 우선합니다."),(0,s._)("br"),(0,s.Uk)(" 대여한 PC에 기존에 설치된 것, 사전 협의한 것 외의 다른 프로그램을 설치하시면 안 됩니다."),(0,s._)("br"),(0,s.Uk)(" 대여한 장비의 오염, 파손, 도난 시 그 책임을 이용자에게 청구할 수 있습니다."),(0,s._)("br")],-1))),te={class:"submit-btn"};function ie(e,t,i,d,ie,se){const le=(0,s.up)("router-link"),me=(0,s.up)("Datepicker");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("div",r,[h,(0,s._)("div",p,[(0,s._)("div",g,[(0,s._)("div",q,[(0,s._)("div",null,[v,(0,s.Wm)(o.rL,{class:"stuido-selector",items:"워터",label:"스튜디오를를 선택해 주세요",variant:"outlined"}),(0,s._)("div",b,[(0,s.Wm)(le,{to:"/CalendarReservate"},{default:(0,s.w5)((()=>[(0,s.Wm)(m.T,{class:"title btn"},{default:(0,s.w5)((()=>[(0,s.Uk)("스튜디오 예약 현황")])),_:1})])),_:1})])])]),(0,s._)("div",S,[T,(0,s._)("div",f,[(0,s.Wm)(me,{value:ie.date,modelValue:ie.date,"onUpdate:modelValue":t[0]||(t[0]=e=>ie.date=e),onInput:se.updateDate,format:"yyyy-MM-dd",placeholder:"날짜를 선택해 주세요","disabled-dates":ie.disableDate},null,8,["value","modelValue","onInput","disabled-dates"])]),(0,s._)("div",E,[_,k,(0,s.Wm)(u.h,{onClick:t[1]||(t[1]=e=>ie.timeDialog=!ie.timeDialog),variant:"outlined",label:"시간을 선택해 주세요",readonly:"",class:"sub-title time-input",modelValue:ie.timeString,"onUpdate:modelValue":t[2]||(t[2]=e=>ie.timeString=e)},null,8,["modelValue"]),ie.timeDialog?((0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("div",x,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(24,(e=>(0,s.Wm)(m.T,{key:e,class:(0,l.C_)(["time-btn",{"selected-time":se.isTimeSelected(e),"block-time":se.BlockTimeSet(e)}]),onClick:t=>se.setTime(e)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e<10?"0"+e:e)+":00 ",1)])),_:2},1032,["onClick","class"]))),64))]),(0,s._)("div",y,[(0,s.Wm)(m.T,{style:{margin:"0px 4px"},onClick:se.confirmSelectedTime},{default:(0,s.w5)((()=>[(0,s.Uk)("확인")])),_:1},8,["onClick"]),(0,s.Wm)(m.T,{style:{margin:"0px 4px"},onClick:se.cancelSelectedTime},{default:(0,s.w5)((()=>[(0,s.Uk)("취소")])),_:1},8,["onClick"])])])):(0,s.kq)("",!0)]),(0,s._)("div",w,[L,P,(0,s.Wm)(a.o,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ie.EquipmentType,((e,t)=>((0,s.wg)(),(0,s.j4)(c.D,{class:"check-box v-col-6",xs:"3",sm:"3",md:"3",lg:"3",xl:"3",xxl:"3",key:t,onClick:i=>se.isEquipmentSelected(t,e[1])},{default:(0,s.w5)((()=>[(0,s.Wm)(n.x,{modelValue:e[1],"onUpdate:modelValue":t=>e[1]=t,label:e[0]},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1032,["onClick"])))),128))])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ie.Equipments,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"equipment-input",key:t},[ie.EquipmentType[t][1]?((0,s.wg)(),(0,s.iD)("div",D,[(0,s._)("p",A,(0,l.zw)(se.setEquipmentType(t))+"를 선택해 주세요 ",1),(0,s.Wm)(o.rL,{modelValue:ie.Selected[t],"onUpdate:modelValue":[e=>ie.Selected[t]=e,e=>se.setEquipmentSelected(ie.Selected[t],t)],items:e,label:se.setEquipmentType(t)+"를 선택해 주세요",variant:"outlined",multiple:""},null,8,["modelValue","onUpdate:modelValue","items","label"])])):(0,s.kq)("",!0)])))),128))]),C,(0,s._)("p",F," 인원 초과시 인당 "+(0,l.zw)(this.rooms[0].numPrice.toLocaleString())+"원 추가 비용 발생 ",1),(0,s.Wm)(u.h,{label:"인원수를 입력해 주세요.","persistent-hint":"",variant:"outlined",class:"sub-title people-num",modelValue:ie.num,"onUpdate:modelValue":t[3]||(t[3]=e=>ie.num=e),readonly:""},null,8,["modelValue"]),(0,s._)("div",U,[(0,s.Uk)(" 총인원 수 "),(0,s._)("div",V,[(0,s._)("span",{class:"mdi mdi-minus-circle-outline",style:{"font-size":"30px",color:"rgb(90, 90, 90)",cursor:"pointer"},onClick:t[4]||(t[4]=(...e)=>se.minusBtn&&se.minusBtn(...e))}),(0,s._)("div",z,(0,l.zw)(ie.num),1),(0,s._)("span",{class:"mdi mdi-plus-circle-outline",style:{"font-size":"30px",color:"rgb(90, 90, 90)",cursor:"pointer"},onClick:t[5]||(t[5]=(...e)=>se.plusBtn&&se.plusBtn(...e))})])]),(0,s._)("div",M,[H,(0,s._)("div",W,[(0,s._)("span",I,"스튜디오 "+(0,l.zw)(this.timeHour)+"시간 x "+(0,l.zw)(e.rooms[0].price.toLocaleString())+"원 ",1),(0,s._)("span",j,(0,l.zw)((e.rooms[0].price*this.timeHour).toLocaleString())+"원 ",1)]),(0,s._)("div",B,[(0,s._)("span",O," 인원수 "+(0,l.zw)(this.num)+"인 x "+(0,l.zw)(e.rooms[0].numPrice.toLocaleString())+"원 ( 최소 "+(0,l.zw)(e.rooms[0].numMin)+"인 ~ 최대 "+(0,l.zw)(e.rooms[0].numMax)+"인) ",1),(0,s._)("span",$,(0,l.zw)(this.numPrice.toLocaleString())+"원 ",1)]),(0,s._)("div",K,[Y,(0,s._)("span",G,(0,l.zw)(this.equipmentPrice.toLocaleString())+"원 ",1)]),R,(0,s._)("div",Z,[J,(0,s._)("span",Q,(0,l.zw)(this.totalPrice.toLocaleString())+"원",1)]),X])])])]),ee]),(0,s._)("div",te,[(0,s.Wm)(m.T,{class:"button"},{default:(0,s.w5)((()=>[(0,s.Uk)("예약하기")])),_:1})])])}i(7658);var se=i(65),le=i(2536),me=i(7387),ne=i.n(me),ae={name:"TabletReserveForm",components:{Datepicker:le.Z},computed:{...(0,se.Se)(["rooms","hostAddressName","equipments"])},data(){const e=new Date;return e.setDate(e.getDate()-1),{title:"예약하기",bgImage:[i(4175),i(5172),i(9724)],studioImage:[i(7626)],dialog:!1,disableDate:{to:e,from:null},date:null,timeDialog:!1,timeList:[],timeString:"00:00 - 00:00, 0시간",timeHour:0,selectedStartTime:0,selectedEndTime:0,EquipmentType:{camera:["카메라",!1],monitor:["모니터",!1],micAudio:["마이크&오디오",!1],lightSubFilm:["조명&촬영보조",!1]},Equipments:{camera:[],monitor:[],micAudio:[],lightSubFilm:[]},Selected:{camera:[],monitor:[],micAudio:[],lightSubFilm:[],equipmentNum:[]},camera:[],num:0,equipmentPrice:0,numPrice:0,totalPrice:0,blockTimeList:[],checkAccount:!1,disableEquipmentName:[],disableEquipmentNum:[]}},mounted(){this.setEquipmentValue()},watch:{Selected(e,t){console.log(e,t)}},methods:{setTime(e){0===this.selectedStartTime?(this.selectedStartTime=e,this.selectedEndTime=e+3):this.selectedEndTime=e,this.selectedEndTime>this.selectedStartTime&&this.selectedEndTime<=this.selectedStartTime+3&&(this.selectedEndTime=this.selectedStartTime+3),this.selectedEndTime<=this.selectedStartTime&&(this.selectedStartTime=0,this.selectedEndTime=0),this.selectedStartTime>=this.blockTimeList[0]-3&&this.selectedStartTime<=this.blockTimeList[this.blockTimeList.length-1]&&(alert("최소 이용 시간 및 이용 중인 시간대를 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.selectedEndTime>=this.blockTimeList[0]&&this.selectedEndTime<=this.blockTimeList[this.blockTimeList.length-1]&&(alert("이용 중인 시간대를 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.selectedStartTime<=this.blockTimeList[0]&&this.selectedEndTime>this.blockTimeList[0]&&(alert("이용 중인 시간대를 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.selectedStartTime>21&&(alert("최소 이용 시간을 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.confirmSelectedTime(!1),console.log("timeList: "+this.timeList),this.resetEquipmentPrice(),this.resetEquipmentData(),this.getDisableEquipment()},isTimeSelected(e){if(this.timeHour=this.selectedEndTime-this.selectedStartTime,this.timeString=`${this.selectedStartTime}:00 - ${this.selectedEndTime}:00 , ${this.timeHour}시간`,0!==this.selectedStartTime&&0!==this.selectedEndTime)return e>=this.selectedStartTime&&e<=this.selectedEndTime},BlockTimeSet(e){return this.blockTimeList.includes(e)},confirmSelectedTime(e){const t=this.selectedEndTime-this.selectedStartTime;if(0===this.timeList.length)for(let i=0;i<=t;i++){const e=this.selectedStartTime+i,t=(e<10?"0"+e:e)+":00";this.timeList.push(t)}else{this.timeList=[];for(let e=0;e<=t;e++){const t=this.selectedStartTime+e,i=(t<10?"0"+t:t)+":00";this.timeList.push(i)}}e&&(this.timeDialog=!1),console.log("timeList: "+this.timeList),this.PriceCalc()},cancelSelectedTime(){this.timeList=[],this.timeString="00:00 - 00:00, 0시간",this.timeHour=0,this.selectedStartTime=0,this.selectedEndTime=0,this.timeDialog=!1},resetEquipmentData(){for(var e=["camera","monitor","micAudio","lightSubFilm"],t=0;t<e.length;t++)this.Equipments[e[t]]=[];this.setEquipmentValue()},resetEquipmentPrice(){this.Selected.camera=[],this.Selected.micAudio=[],this.Selected.lightSubFilm=[],this.Selected.monitor=[],this.equipmentPrice=0,this.equipmentPrice<=0&&(this.equipmentPrice=0)},setEquipmentValue(){if(this.equipments){for(var e=0;e<this.equipments.camera.length;e++)this.Equipments.camera.push(this.equipments.camera[e].name);for(var t=0;t<this.equipments.monitor.length;t++)this.Equipments.monitor.push(this.equipments.monitor[t].name);for(var i=0;i<this.equipments.MicAudio.length;i++)this.Equipments.micAudio.push(this.equipments.MicAudio[i].name);for(var s=0;s<this.equipments.LightSubFilm.length;s++)this.Equipments.lightSubFilm.push(this.equipments.LightSubFilm[s].name)}},updateDate(e){Array.isArray(e)&&(e=e[0]),this.date=this.date.toISOString().slice(0,10),console.log(this.date),this.disableEquipmentNum=[],this.resetEquipmentPrice(),this.getDisabledate()},setEquipmentType(e){return"camera"===e?"카메라":"monitor"===e?"모니터":"micAudio"===e?"마이크&오디오":"lightSubFilm"===e?"조명&촬영보조":void 0},setEquipmentSelected(e,t){console.log(this.Selected);const i={camera:"camera",monitor:"monitor",micAudio:"MicAudio",lightSubFilm:"LightSubFilm"},s=i[t];let l;this.equipments[s]?(this.equipments[s].forEach((t=>{e.includes(t.name)&&!this.Selected.equipmentNum.includes(t.equipmentNum)?this.Selected.equipmentNum.push(t.equipmentNum):!e.includes(t.name)&&this.Selected.equipmentNum.includes(t.equipmentNum)&&(this.Selected.equipmentNum=this.Selected.equipmentNum.filter((e=>e!==t.equipmentNum)),l=t.equipmentNum)})),this.Selected.equipmentNum=[...new Set(this.Selected.equipmentNum)],this.equipmentCalc(l)):console.warn(`Equipment type "${t}" not found.`)},isEquipmentSelected(e,t){t=!t;const i={camera:[1,2,3,4,5,6,7,8,9,10,11,13,14,15],monitor:[12],micAudio:[16,17,18,19,20],lightSubFilm:[21,22,23]};if(console.log("type : "+e),!1===t&&(console.log(i[e]),i[e])){"micAudio"===e&&(e="MicAudio"),"lightSubFilm"===e&&(e="LightSubFilm"),console.log("selected:"+this.Selected.equipmentNum),console.log(this.equipments[e]);for(var s=0;s<this.equipments[e].length;s++)for(var l=0;l<this.Selected.equipmentNum.length;l++)this.equipments[e][s].equipmentNum===this.Selected.equipmentNum[l]&&(this.equipmentPrice-=this.equipments[e][s].price*this.timeHour,console.log(this.equipments[e][s].price));"MicAudio"===e&&(e="micAudio"),"LightSubFilm"===e&&(e="lightSubFilm"),this.Selected.equipmentNum=this.Selected.equipmentNum.filter((t=>!i[e].includes(t))),this.disableEquipmentNum=this.disableEquipmentNum.filter((t=>!i[e].includes(t))),this.Selected[e]=[],this.PriceCalc()}},minusBtn(){this.num--,this.num<=0&&(this.num=0),this.PriceCalc()},plusBtn(){this.num++,this.num>=this.rooms[0].numMax&&(this.num=this.rooms[0].numMax),this.PriceCalc()},PriceCalc(){this.numPrice=this.rooms[0].numPrice*(this.num-this.rooms[0].numMin),this.num<=this.rooms[0].numMin&&(this.numPrice=0),this.equipmentPrice<=0&&(this.equipmentPrice=0),this.totalPrice=this.rooms[0].price*this.timeHour+this.equipmentPrice+this.numPrice},equipmentCalc(e){const t={camera:[1,2,3,4,5,6,7,8,9,10,11,13,14,15],monitor:[12],micAudio:[16,17,18,19,20],lightSubFilm:[21,22,23]};var i="";if(this.Selected.equipmentNum.length>0&&!e)for(var s=0;s<=this.Selected.equipmentNum.length-1;s++){let e=this.Selected.equipmentNum[s];console.log("equipment: "+this.Selected.equipmentNum[s]);let l=Object.keys(t).find((i=>t[i].includes(e)));if(l)switch(l){case"micAudio":i="MicAudio";break;case"lightSubFilm":i="LightSubFilm";break;default:i=l}}else{let s=Object.keys(t).find((i=>t[i].includes(e)));if(s)switch(s){case"micAudio":i="MicAudio";break;case"lightSubFilm":i="LightSubFilm";break;default:i=s}}if(console.log("삭제된 항목 : "+e),console.log(i),this.equipments[i])for(var l=0;l<this.equipments[i].length;l++){let t=this.Selected.equipmentNum[this.Selected.equipmentNum.length-1];if(this.equipments[i][l].equipmentNum!==t||e)e?this.equipments[i][l].equipmentNum===e&&(this.equipmentPrice-=this.equipments[i][l].price*this.timeHour,this.PriceCalc(),console.log("취소 가격"+this.equipments[i][l].price)):this.equipments[i][l].equipmentNum===e&&(this.equipmentPrice-=this.equipments[i][l].price*this.timeHour,this.PriceCalc(),console.log("마지막 항목 취소 가격"+this.equipments[i][l].price));else{var m=this.equipments[i][l].price;this.equipmentPrice+=m*this.timeHour,this.PriceCalc(),console.log("장비 "+this.equipments[i][l].price)}}console.log("총 가격"+this.equipmentPrice)},dateInsert(e){this.blockTimeList=[];for(var t=0;t<e.length;t++)1==e[t].state&&this.blockTimeList.push(parseInt(e[t].time))},getDisabledate(){ne().ajax({url:this.hostAddressName+"/studio/reserve/"+this.rooms[0].studioNum+"/"+this.date,method:"GET",type:"get",dataType:"json",success:e=>{this.dateInsert(e),console.log(e)},error:function(e){console.log(""),console.log("[serverUploadImage] : [error] : "+e),console.log("")},complete:function(e,t){console.log(""),console.log("[server] : [complete] : "+t),console.log("")}})},getDisableEquipment(){for(var e="",t=0;t<=this.timeList.length-1;t++)e+=this.timeList[t].substring(0,2);console.log(this.timeList),console.log("timeTable:"+e),ne().ajax({url:this.hostAddressName+"/studio/equipment/"+this.date+"/"+e,method:"GET",type:"get",dataType:"json",success:e=>{console.log("[server] : [success] : "+e),this.getDisableState(e)},error:function(e){console.log(""),console.log("[serverUploadImage] : [error] : "+e),console.log("")},complete:function(e,t){console.log(""),console.log("[server] : [complete] : "+t),console.log("")}})},getDisableState(e){var t=["camera","monitor","MicAudio","LightSubFilm"],i=["camera","monitor","micAudio","lightSubFilm"];this.disableEquipmentName=[],this.disableEquipmentNum=[],this.Selected.equipmentNum=[],this.resetEquipmentPrice(),this.resetEquipmentData();for(var s=0;s<e.length;s++){const t=e[s].equipmentNum,i=e[s].equipmentState;0===i&&this.disableEquipmentNum.push(t)}this.disableEquipmentNum=[...new Set(this.disableEquipmentNum)],console.log("사용 불가능 장비 번호"+this.disableEquipmentNum);for(var l=0;l<t.length;l++){for(var m=0;m<this.equipments[t[l]].length;m++)for(var n=0;n<this.disableEquipmentNum.length;n++)this.equipments[t[l]][m].equipmentNum===this.disableEquipmentNum[n]&&this.disableEquipmentName.push(this.equipments[t[l]][m].name);this.Equipments[i[l]]=this.Equipments[i[l]].filter((e=>!this.disableEquipmentName.includes(e)))}console.log(this.disableEquipmentName)}}},ce=i(89);const oe=(0,ce.Z)(ae,[["render",ie],["__scopeId","data-v-04296823"]]);var ue=oe}}]);
//# sourceMappingURL=878.0fa1d24d.js.map