"use strict";(self["webpackChunktikitaka"]=self["webpackChunktikitaka"]||[]).push([[141],{8079:function(e,t,i){i.r(t),i.d(t,{default:function(){return We}});var s=i(3396),n=i(9242),l=i(7139),o=i(6372),m=i(11),u=i(1888),a=i(1334),c=i(1222),r=i(3601),d=i(6824),h=i(8521),p=i(2269),g=i(165);const q=e=>((0,s.dD)("data-v-213f79ab"),e=e(),(0,s.Cn)(),e),S={class:"reserve-form",id:"pdf"},b={class:"title-box"},v=(0,s.uE)('<div class="title-first" data-v-213f79ab><span class="title-span" data-v-213f79ab> TNT STUDIO 견적/예약 </span></div><div class="title-second" data-v-213f79ab><div class="document-title" data-v-213f79ab><span class="document-span" data-v-213f79ab> 담 당 자 </span></div><div class="document-title" data-v-213f79ab><span class="document-span" data-v-213f79ab> 사 용 자 </span></div><div class="document-title" data-v-213f79ab><span class="document-span" data-v-213f79ab> 대여승인 </span></div><div class="sign-con" data-v-213f79ab></div></div>',2),f={class:"title-third"},_=q((()=>(0,s._)("div",{class:"document-title"},[(0,s._)("input",{style:{width:"100%",margin:"4px","text-align":"center"}})],-1))),E={class:"document-title"},C=q((()=>(0,s._)("div",{class:"document-title"},[(0,s._)("span",{class:"document-span"}," 반납승인 ")],-1))),T=q((()=>(0,s._)("div",{class:"sign-con"},null,-1))),x={class:"info-con"},k={class:"info"},w={class:"title-info"},D=q((()=>(0,s._)("p",{class:"title"},"스튜디오",-1))),y={class:"calender-box"},P={class:"schedule-con"},N=q((()=>(0,s._)("p",{class:"title"},"스케줄",-1))),L={class:"date-picker"},H={class:"time-con"},A=q((()=>(0,s._)("p",{class:"time-title",style:{"margin-top":"20px"}},"시간",-1))),F=q((()=>(0,s._)("p",{class:"sub-title"},"최소 3시간 이상",-1))),U={key:0,class:"time-box"},V={style:{margin:"auto",width:"80%"}},z={class:"time-apply",style:{display:"flex","justify-content":"right",margin:"8px 0px"}},M={key:0,class:"equipment-con"},W=q((()=>(0,s._)("p",{class:"equipment-title"},"장비",-1))),I=q((()=>(0,s._)("p",{class:"sub-title"},"필요하신 장비를 선택해 주세요",-1))),R=q((()=>(0,s._)("div",null,null,-1))),B={key:0},j={class:"sub-title"},$={style:{display:"flex","justify-content":"center","align-items":"center"}},O={style:{"margin-right":"12px"}},Y=["onClick"],Z={style:{margin:"0px 30px","font-size":"16px"}},K=["onClick"],G=q((()=>(0,s._)("p",{class:"num-title"},"총인원",-1))),J={class:"sub-title"},X={class:"num-box",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Q={class:"",style:{display:"flex",padding:"12px","align-items":"center"}},ee={style:{margin:"0px 30px","font-size":"16px"}},te={class:"price-con"},ie=q((()=>(0,s._)("hr",{style:{"margin-bottom":"20px"}},null,-1))),se={class:"price-box"},ne={class:"price-text"},le={class:"price-value"},oe={class:"price-box"},me={class:"price-text"},ue={class:"price-value"},ae={class:"price-box"},ce={class:"price-text"},re={class:"price-value"},de=q((()=>(0,s._)("hr",{style:{margin:"20px 0px"}},null,-1))),he={class:"price-box"},pe=q((()=>(0,s._)("span",{class:"total-text"},"총 가격",-1))),ge={class:"total-value"},qe={class:"sign-box"},Se=q((()=>(0,s._)("span",null,"위와 같이 TNT Studio 장비 대여를 신청합니다.",-1))),be=q((()=>(0,s._)("br",null,null,-1))),ve=q((()=>(0,s._)("br",null,null,-1))),fe={class:"sign"},_e=q((()=>(0,s._)("span",{class:"sign-text"},"신청인",-1))),Ee={key:0},Ce=["src"],Te={class:"sign-div"},xe=q((()=>(0,s._)("div",{class:"caution-box"},[(0,s.Uk)(" ※ 유의사항"),(0,s._)("br"),(0,s.Uk)(" 장비/비품 대여는 수량이 한정되어 있어 선예약 이용자를 우선합니다."),(0,s._)("br"),(0,s.Uk)(" 대여한 PC에 기존에 설치된 것, 사전 협의한 것 외의 다른 프로그램을 설치하시면 안 됩니다."),(0,s._)("br"),(0,s.Uk)(" 대여한 장비의 오염, 파손, 도난 시 그 책임을 이용자에게 청구할 수 있습니다."),(0,s._)("br")],-1))),ke={class:"function-btn"},we={class:"submit-btn"};function De(e,t,i,q,De,ye){const Pe=(0,s.up)("router-link"),Ne=(0,s.up)("Datepicker"),Le=(0,s.up)("DialogReserve");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("div",S,[(0,s._)("div",b,[v,(0,s._)("div",f,[_,(0,s._)("div",E,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>De.reserve_name=e),style:{width:"100%",margin:"4px","text-align":"center"}},null,512),[[n.nr,De.reserve_name]])]),C,T])]),(0,s._)("div",x,[(0,s._)("div",k,[(0,s._)("div",w,[(0,s._)("div",null,[D,(0,s.Wm)(p.rL,{class:"stuido-selector",value:"솔로 스튜디오",items:De.studio,variant:"outlined","onUpdate:modelValue":ye.studio_select},null,8,["items","onUpdate:modelValue"]),(0,s._)("div",y,[(0,s.Wm)(Pe,{to:"/CalendarReservate"},{default:(0,s.w5)((()=>[(0,s.Wm)(o.T,{class:"title btn"},{default:(0,s.w5)((()=>[(0,s.Uk)("스튜디오 예약 현황")])),_:1})])),_:1})])])]),(0,s._)("div",P,[N,(0,s._)("div",L,[(0,s.Wm)(Ne,{value:De.date,modelValue:De.date,"onUpdate:modelValue":t[1]||(t[1]=e=>De.date=e),onInput:ye.updateDate,format:"yyyy-MM-dd",placeholder:"날짜를 선택해 주세요","disabled-dates":De.disableDate},null,8,["value","modelValue","onInput","disabled-dates"])]),(0,s._)("div",H,[A,F,(0,s.Wm)(g.h,{onClick:t[2]||(t[2]=e=>De.timeDialog=!De.timeDialog),variant:"outlined",label:"시간을 선택해 주세요",readonly:"",class:"sub-title time-input",modelValue:De.timeString,"onUpdate:modelValue":t[3]||(t[3]=e=>De.timeString=e)},null,8,["modelValue"]),De.timeDialog?((0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",V,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(24,(e=>(0,s.Wm)(o.T,{key:e,class:(0,l.C_)(["time-btn",{"selected-time":ye.isTimeSelected(e),"block-time":ye.BlockTimeSet(e)}]),onClick:t=>ye.setTime(e)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e<10?"0"+e:e)+":00 ",1)])),_:2},1032,["onClick","class"]))),64))]),(0,s._)("div",z,[(0,s.Wm)(o.T,{style:{margin:"0px 4px"},onClick:ye.confirmSelectedTime},{default:(0,s.w5)((()=>[(0,s.Uk)("확인")])),_:1},8,["onClick"]),(0,s.Wm)(o.T,{style:{margin:"0px 4px"},onClick:ye.cancelSelectedTime},{default:(0,s.w5)((()=>[(0,s.Uk)("취소")])),_:1},8,["onClick"])])])):(0,s.kq)("",!0)]),De.timeList.length>0?((0,s.wg)(),(0,s.iD)("div",M,[W,I,(0,s.Wm)(d.o,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(De.EquipmentType,((e,t)=>((0,s.wg)(),(0,s.j4)(h.D,{class:"check-box v-col-6",xs:"3",sm:"3",md:"3",lg:"3",xl:"3",xxl:"3",key:t,onClick:i=>ye.isEquipmentSelected(t,e[1])},{default:(0,s.w5)((()=>[R,(0,s.Wm)(c.x,{modelValue:e[1],"onUpdate:modelValue":t=>e[1]=t,label:e[0]},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1032,["onClick"])))),128))])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(De.Equipments,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"equipment-input",key:t},[De.EquipmentType[t][1]?((0,s.wg)(),(0,s.iD)("div",B,[(0,s._)("p",j,(0,l.zw)(ye.setEquipmentType(t))+"를 선택해 주세요 ",1),(0,s.Wm)(p.rL,{modelValue:De.Selected[t],"onUpdate:modelValue":[e=>De.Selected[t]=e,e=>ye.setEquipmentSelected(De.Selected[t],t)],items:e,label:ye.setEquipmentType(t)+"를 선택해 주세요",variant:"outlined",multiple:""},null,8,["modelValue","onUpdate:modelValue","items","label"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(De.Selected[t],((e,t)=>((0,s.wg)(),(0,s.iD)("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"0px 12px"},key:t},[(0,s.Uk)((0,l.zw)(e)+" ",1),(0,s._)("div",$,[(0,s._)("span",O,(0,l.zw)(this.itemPrice(e).toLocaleString())+"원 * "+(0,l.zw)(this.timeHour)+" 시간 ",1),(0,s._)("span",{class:"mdi mdi-minus-circle-outline",style:{"font-size":"30px",color:"rgb(90, 90, 90)",cursor:"pointer"},onClick:t=>ye.minusBtnEquipment(ye.EquipmentCountIdx(e))},null,8,Y),(0,s._)("div",Z,(0,l.zw)(this.SelectedEquipmentCount.equipmentCount[ye.EquipmentCountIdx(e)]),1),(0,s._)("span",{class:"mdi mdi-plus-circle-outline",style:{"font-size":"30px",color:"rgb(90, 90, 90)",cursor:"pointer"},onClick:t=>ye.plusBtnEquipment(ye.EquipmentCountIdx(e))},null,8,K)])])))),128))])):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0),G,(0,s._)("p",J," 최소 인원 초과시 인당 "+(0,l.zw)(this.rooms[this.select_studio].numPrice.toLocaleString())+"원 추가 비용 발생 ",1),(0,s.Wm)(g.h,{label:"인원수를 입력해 주세요.","persistent-hint":"",variant:"outlined",class:"sub-title people-num",modelValue:De.num,"onUpdate:modelValue":t[4]||(t[4]=e=>De.num=e),readonly:""},null,8,["modelValue"]),(0,s._)("div",X,[(0,s.Uk)(" 총인원 수 "),(0,s._)("div",Q,[(0,s._)("span",{class:"mdi mdi-minus-circle-outline",style:{"font-size":"30px",color:"rgb(90, 90, 90)",cursor:"pointer"},onClick:t[5]||(t[5]=(...e)=>ye.minusBtnPeople&&ye.minusBtnPeople(...e))}),(0,s._)("div",ee,(0,l.zw)(De.num),1),(0,s._)("span",{class:"mdi mdi-plus-circle-outline",style:{"font-size":"30px",color:"rgb(90, 90, 90)",cursor:"pointer"},onClick:t[6]||(t[6]=(...e)=>ye.plusBtnPeople&&ye.plusBtnPeople(...e))})])]),(0,s._)("div",te,[ie,(0,s._)("div",se,[(0,s._)("span",ne,"스튜디오 "+(0,l.zw)(this.timeHour)+"시간 x "+(0,l.zw)(e.rooms[this.select_studio].price.toLocaleString())+"원 ",1),(0,s._)("span",le,(0,l.zw)(this.roomPrice.toLocaleString())+"원 ",1)]),(0,s._)("div",oe,[(0,s._)("span",me," 장비 가격 x "+(0,l.zw)(this.timeHour)+"시간 ",1),(0,s._)("span",ue,(0,l.zw)(this.equipmentPrice.toLocaleString())+"원 ",1)]),(0,s._)("div",ae,[(0,s._)("span",ce," 인원수 "+(0,l.zw)(this.num)+"인 x "+(0,l.zw)(e.rooms[this.select_studio].numPrice.toLocaleString())+"원 ( 최소 "+(0,l.zw)(e.rooms[this.select_studio].numMin)+"인 ~ 최대 "+(0,l.zw)(e.rooms[this.select_studio].numMax)+"인) ",1),(0,s._)("span",re,(0,l.zw)(this.numPrice.toLocaleString())+"원 ",1)]),de,(0,s._)("div",he,[pe,(0,s._)("span",ge,(0,l.zw)(this.totalPrice.toLocaleString())+"원",1)]),(0,s._)("div",qe,[Se,be,ve,(0,s._)("div",fe,[_e,De.signatureSrc?((0,s.wg)(),(0,s.iD)("div",Ee,[(0,s._)("img",{src:De.signatureSrc,style:{width:"80px",position:"absolute",height:"50px",transform:"translate3d(65px, -10px, 10px)"}},null,8,Ce)])):(0,s.kq)("",!0),(0,s._)("div",{class:"sign-canvas",style:{width:"80px",cursor:"pointer"},onClick:t[7]||(t[7]=(...e)=>ye.openSignDialog&&ye.openSignDialog(...e))},(0,l.zw)(De.reserve_name),1),(0,s._)("div",Te,[(0,s.Wm)(r.B,{modelValue:De.signDialog,"onUpdate:modelValue":t[14]||(t[14]=e=>De.signDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m._,{width:"550"},{default:(0,s.w5)((()=>[(0,s.Wm)(u.Z,null,{default:(0,s.w5)((()=>[(0,s._)("canvas",{ref:"signatureCanvas",width:"500",height:"300",style:{border:"1px solid black"},onMousedown:t[8]||(t[8]=(...e)=>ye.startDrawing&&ye.startDrawing(...e)),onMousemove:t[9]||(t[9]=(...e)=>ye.draw&&ye.draw(...e)),onMouseup:t[10]||(t[10]=(...e)=>ye.stopDrawing&&ye.stopDrawing(...e)),onTouchstart:t[11]||(t[11]=(...e)=>ye.startDrawing&&ye.startDrawing(...e)),onTouchmove:t[12]||(t[12]=(...e)=>ye.draw&&ye.draw(...e)),onTouchend:t[13]||(t[13]=(...e)=>ye.stopDrawing&&ye.stopDrawing(...e))},null,544)])),_:1}),(0,s.Wm)(a.h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o.T,{onClick:ye.clearCanvas},{default:(0,s.w5)((()=>[(0,s.Uk)("clear")])),_:1},8,["onClick"]),(0,s.Wm)(o.T,{onClick:ye.saveSignature},{default:(0,s.w5)((()=>[(0,s.Uk)("save")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,s._)("span",{class:"sign-confirm",onClick:t[15]||(t[15]=(...e)=>ye.openSignDialog&&ye.openSignDialog(...e))},"(인)")])])])])])]),xe]),(0,s._)("div",ke,[(0,s.Wm)(Le,{date:De.date,"time-string":De.timeString,num:De.num,"total-price":De.totalPrice,"time-list":De.timeList,camera:De.Selected.camera,monitor:De.Selected.monitor,micAudio:De.Selected.micAudio,lightSubFilm:De.Selected.lightSubFilm,equipmentNum:De.Selected.equipmentNum,roomTitle:e.rooms[this.select_studio].title,roomNum:e.rooms[this.select_studio].studioNum},null,8,["date","time-string","num","total-price","time-list","camera","monitor","micAudio","lightSubFilm","equipmentNum","roomTitle","roomNum"]),(0,s._)("div",we,[(0,s.Wm)(o.T,{class:"button",onClick:ye.captureScreenshot},{default:(0,s.w5)((()=>[(0,s.Uk)("저장하기")])),_:1},8,["onClick"])])])])}i(7658);var ye=i(4738),Pe=i(65),Ne=i(2536),Le=i(7387),He=i.n(Le),Ae=i(4189),Fe=i.n(Ae),Ue=i(8914),Ve={name:"TabletReserveForm",components:{DialogReserve:ye.Z,Datepicker:Ne.Z},computed:{...(0,Pe.Se)(["rooms","hostAddressName","equipments"])},data(){const e=new Date;return e.setDate(e.getDate()-1),{studio:["솔로 스튜디오","듀오 스튜디오","하이브리드 스튜디오","워터 스튜디오","화이트 스튜디오","그린 스튜디오"],select_studio:0,reserve_name:"",dialog:!1,disableDate:{to:e,from:null},date:null,timeDialog:!1,timeList:[],timeString:"00:00 - 00:00, 0시간",timeHour:0,selectedStartTime:0,selectedEndTime:0,EquipmentType:{camera:["카메라",!1],monitor:["모니터",!1],micAudio:["마이크&오디오",!1],lightSubFilm:["조명&촬영보조",!1]},Equipments:{camera:[],monitor:[],micAudio:[],lightSubFilm:[]},Selected:{camera:[],monitor:[],micAudio:[],lightSubFilm:[],equipmentNum:[]},SelectedEquipmentCount:{maxEquipmentCount:[],equipmentCount:[],equipmentRemainCount:[]},camera:[],num:0,equipmentPrice:0,numPrice:0,totalPrice:0,roomPrice:0,blockTimeList:[],checkAccount:!1,disableEquipmentName:[],disableEquipmentNum:[],signDialog:!1,signDraw:!1,ctx:null,isDrawing:!1,signatureSrc:null}},mounted(){this.setEquipmentValue(),this.setSelectEquipmentValue()},methods:{openSignDialog(){this.signDialog=!0,this.$nextTick((()=>{const e=this.$refs.signatureCanvas;e&&(this.ctx=e.getContext("2d"))}))},startDrawing(){this.isDrawing=!0,this.ctx.beginPath()},draw(e){if(!this.isDrawing)return;this.ctx.lineWidth=2,this.ctx.lineCap="round",this.ctx.strokeStyle="black";const t=this.$refs.signatureCanvas.getBoundingClientRect(),i=e.clientX-t.left,s=e.clientY-t.top;this.ctx.lineTo(i,s),this.ctx.stroke()},stopDrawing(){this.isDrawing=!1},clearCanvas(){this.ctx.clearRect(0,0,this.$refs.signatureCanvas.width,this.$refs.signatureCanvas.height)},saveSignature(){const e=this.$refs.signatureCanvas.toDataURL("image/png");this.signatureSrc=e,this.signDialog=!1,fetch(e).then((e=>{e.blob()})).catch((e=>{console.error("Failed to fetch signature data:",e)}))},itemPrice(e){for(var t=["camera","monitor","MicAudio","LightSubFilm"],i=0;i<t.length;i++)for(var s=0;s<this.equipments[t[i]].length;s++)if(e===this.equipments[t[i]][s].name)return this.equipments[t[i]][s].price},plusBtnEquipment(e){var t=this.SelectedEquipmentCount.equipmentCount[e],i=this.SelectedEquipmentCount.maxEquipmentCount[e];t<i?(t+=1,this.equipmentDiscountCalc(e+1,this.timeHour,"plus")):t>=i&&(t=i),0!=this.SelectedEquipmentCount.equipmentRemainCount[e]&&t>=this.SelectedEquipmentCount.equipmentRemainCount[e]&&(t=this.SelectedEquipmentCount.equipmentRemainCount[e]),this.SelectedEquipmentCount.equipmentCount[e]=t,console.log("remainCount: "+this.SelectedEquipmentCount.equipmentRemainCount[e])},minusBtnEquipment(e){var t=this.SelectedEquipmentCount.equipmentCount[e];t>1?(t-=1,this.equipmentDiscountCalc(e+1,this.timeHour,"minus")):t=1,this.SelectedEquipmentCount.equipmentCount[e]=t},EquipmentCountIdx(e){for(var t,i,s=["camera","monitor","MicAudio","LightSubFilm"],n=0;n<s.length;n++)for(var l=0;l<this.equipments[s[n]].length;l++)if(e===this.equipments[s[n]][l].name)return i=this.equipments[s[n]][l].count,t=this.equipments[s[n]][l].equipmentNum-1,this.SelectedEquipmentCount.maxEquipmentCount[t]=i,console.log("equipmentCount : "+this.SelectedEquipmentCount.equipmentCount),t},studio_select(e){this.select_studio=this.studio.indexOf(e)},setTime(e){0===this.selectedStartTime?(this.selectedStartTime=e,this.selectedEndTime=e+3):this.selectedEndTime=e,this.selectedEndTime>this.selectedStartTime&&this.selectedEndTime<=this.selectedStartTime+3&&(this.selectedEndTime=this.selectedStartTime+3),this.selectedEndTime<=this.selectedStartTime&&(this.selectedStartTime=0,this.selectedEndTime=0),this.selectedStartTime>=this.blockTimeList[0]-3&&this.selectedStartTime<=this.blockTimeList[this.blockTimeList.length-1]&&(alert("최소 이용 시간 및 이용 중인 시간대를 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.selectedEndTime>=this.blockTimeList[0]&&this.selectedEndTime<=this.blockTimeList[this.blockTimeList.length-1]&&(alert("이용 중인 시간대를 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.selectedStartTime<=this.blockTimeList[0]&&this.selectedEndTime>this.blockTimeList[0]&&(alert("이용 중인 시간대를 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.selectedStartTime>21&&(alert("최소 이용 시간을 확인해 주세요."),this.selectedStartTime=0,this.selectedEndTime=0),this.confirmSelectedTime(!1),console.log("timeList: "+this.timeList),this.resetEquipmentPrice(),this.resetEquipmentData(),this.getDisableEquipment()},isTimeSelected(e){if(this.timeHour=this.selectedEndTime-this.selectedStartTime,this.timeString=`${this.selectedStartTime}:00 - ${this.selectedEndTime}:00 , ${this.timeHour}시간`,0!==this.selectedStartTime&&0!==this.selectedEndTime)return e>=this.selectedStartTime&&e<=this.selectedEndTime},BlockTimeSet(e){return this.blockTimeList.includes(e)},confirmSelectedTime(e){const t=this.selectedEndTime-this.selectedStartTime;if(0===this.timeList.length)for(let i=0;i<=t;i++){const e=this.selectedStartTime+i,t=(e<10?"0"+e:e)+":00";this.timeList.push(t)}else{this.timeList=[];for(let e=0;e<=t;e++){const t=this.selectedStartTime+e,i=(t<10?"0"+t:t)+":00";this.timeList.push(i)}}e&&(this.timeDialog=!1),console.log("timeList: "+this.timeList),this.PriceCalc()},cancelSelectedTime(){this.timeList=[],this.timeString="00:00 - 00:00, 0시간",this.timeHour=0,this.selectedStartTime=0,this.selectedEndTime=0,this.timeDialog=!1},resetEquipmentData(){for(var e=["camera","monitor","micAudio","lightSubFilm"],t=0;t<e.length;t++)this.Equipments[e[t]]=[];this.setEquipmentValue()},resetEquipmentPrice(){this.Selected.camera=[],this.Selected.micAudio=[],this.Selected.lightSubFilm=[],this.Selected.monitor=[],this.SelectedEquipmentCount.maxEquipmentCount=[],this.SelectedEquipmentCount.equipmentCount=[],this.SelectedEquipmentCount.equipmentRemainCount=[],this.equipmentPrice=0,this.equipmentPrice<=0&&(this.equipmentPrice=0),this.setSelectEquipmentValue()},setEquipmentValue(){if(this.equipments){for(var e=0;e<this.equipments.camera.length;e++)this.Equipments.camera.push(this.equipments.camera[e].name);for(var t=0;t<this.equipments.monitor.length;t++)this.Equipments.monitor.push(this.equipments.monitor[t].name);for(var i=0;i<this.equipments.MicAudio.length;i++)this.Equipments.micAudio.push(this.equipments.MicAudio[i].name);for(var s=0;s<this.equipments.LightSubFilm.length;s++)this.Equipments.lightSubFilm.push(this.equipments.LightSubFilm[s].name)}},setSelectEquipmentValue(){for(var e=0;e<24;e++)this.SelectedEquipmentCount.equipmentCount.push(1),this.SelectedEquipmentCount.maxEquipmentCount.push(0),this.SelectedEquipmentCount.equipmentRemainCount.push(0)},updateDate(e){Array.isArray(e)&&(e=e[0]),this.date=this.date.toISOString().slice(0,10),console.log(this.date),this.disableEquipmentNum=[],this.resetEquipmentPrice(),this.getDisabledate()},setEquipmentType(e){return"camera"===e?"카메라":"monitor"===e?"모니터":"micAudio"===e?"마이크&오디오":"lightSubFilm"===e?"조명&촬영보조":void 0},setEquipmentSelected(e,t){console.log(this.Selected);const i={camera:"camera",monitor:"monitor",micAudio:"MicAudio",lightSubFilm:"LightSubFilm"},s=i[t];let n;this.equipments[s]?(this.equipments[s].forEach((t=>{e.includes(t.name)&&!this.Selected.equipmentNum.includes(t.equipmentNum)?this.Selected.equipmentNum.push(t.equipmentNum):!e.includes(t.name)&&this.Selected.equipmentNum.includes(t.equipmentNum)&&(this.Selected.equipmentNum=this.Selected.equipmentNum.filter((e=>e!==t.equipmentNum)),n=t.equipmentNum)})),this.Selected.equipmentNum=[...new Set(this.Selected.equipmentNum)],this.equipmentCalc(n)):console.warn(`Equipment type "${t}" not found.`)},isEquipmentSelected(e,t){t=!t;const i={camera:[1,2,3,4,5,6,7,8,9,10,11,13,14,15],monitor:[12],micAudio:[16,17,18,19,20],lightSubFilm:[21,22,23]};if(console.log("type : "+e),!1===t&&(console.log(i[e]),i[e])){"micAudio"===e&&(e="MicAudio"),"lightSubFilm"===e&&(e="LightSubFilm"),console.log("selected:"+this.Selected.equipmentNum),console.log(this.equipments[e]);for(var s=0;s<this.equipments[e].length;s++)for(var n=0;n<this.Selected.equipmentNum.length;n++)this.equipments[e][s].equipmentNum===this.Selected.equipmentNum[n]&&(console.log(this.Selected.equipmentNum),console.log(this.Selected.equipmentNum[n]),this.equipmentPrice-=this.equipments[e][s].price*this.timeHour);"MicAudio"===e&&(e="micAudio"),"LightSubFilm"===e&&(e="lightSubFilm"),this.Selected.equipmentNum=this.Selected.equipmentNum.filter((t=>!i[e].includes(t))),this.disableEquipmentNum=this.disableEquipmentNum.filter((t=>!i[e].includes(t))),this.Selected[e]=[],this.PriceCalc()}},minusBtnPeople(){this.num--,this.num<=0&&(this.num=0),this.PriceCalc()},plusBtnPeople(){this.num++,this.num>=this.rooms[this.select_studio].numMax&&(this.num=this.rooms[this.select_studio].numMax),this.PriceCalc()},PriceCalc(){this.numPrice=this.rooms[this.select_studio].numPrice*(this.num-this.rooms[this.select_studio].numMin),this.num<=this.rooms[this.select_studio].numMin&&(this.numPrice=0),this.equipmentPrice<=0&&(this.equipmentPrice=0),this.rooomCalc(),this.totalPrice=this.roomPrice+this.equipmentPrice+this.numPrice},rooomCalc(){const e=this.rooms[this.select_studio].PriceToHour3,t=this.rooms[this.select_studio].PriceToHour6,i=this.rooms[this.select_studio].PriceToHour12;var s=this.rooms[this.select_studio].price;this.timeHour>=3&&this.timeHour<6?this.roomPrice=e+s*(this.timeHour-3):this.timeHour>=6&&this.timeHour<12?this.roomPrice=t+s*(this.timeHour-6):this.timeHour>=12&&(this.roomPrice=i+s*(this.timeHour-12))},equipmentCalc(e){const t={camera:[1,2,3,4,5,6,7,8,9,10,11,13,14,15],monitor:[12],micAudio:[16,17,18,19,20],lightSubFilm:[21,22,23]};var i="";if(this.Selected.equipmentNum.length>0&&!e)for(var s=0;s<=this.Selected.equipmentNum.length-1;s++){let e=this.Selected.equipmentNum[s];console.log("equipment: "+this.Selected.equipmentNum[s]);let n=Object.keys(t).find((i=>t[i].includes(e)));if(n)switch(n){case"micAudio":i="MicAudio";break;case"lightSubFilm":i="LightSubFilm";break;default:i=n}}else{let s=Object.keys(t).find((i=>t[i].includes(e)));if(s)switch(s){case"micAudio":i="MicAudio";break;case"lightSubFilm":i="LightSubFilm";break;default:i=s}}if(this.equipments[i])for(var n=0;n<this.equipments[i].length;n++){let t=this.Selected.equipmentNum[this.Selected.equipmentNum.length-1];this.equipments[i][n].equipmentNum!==t||e?this.equipments[i][n].equipmentNum===e&&(this.equipmentDiscountCalc(e,this.timeHour,"minus"),this.PriceCalc()):(this.equipmentDiscountCalc(t,this.timeHour,"plus"),this.PriceCalc())}console.log("총 가격"+this.equipmentPrice)},equipmentDiscountCalc(e,t,i){const s={camera:[1,2,3,4,5,6,7,8,9,10,11,13,14,15],monitor:[12],MicAudio:[16,17,18,19,20],LightSubFilm:[21,22,23]};let n=Object.keys(s).find((t=>s[t].includes(e)));var l=this.equipments[n];if(l)for(var o=0;o<l.length;o++)if(l[o].equipmentNum===e){const e=l[o].PriceToHour3,s=l[o].PriceToHour6,n=l[o].PriceToHour12;var m=l[o].price;"plus"===i&&(t>=3&&t<6?this.equipmentPrice+=e+m*(this.timeHour-3):t>=6&&t<12?this.equipmentPrice+=s+m*(this.timeHour-6):t>=12&&(this.equipmentPrice+=n+m*(this.timeHour-12)),console.log("PlusPrice: "+this.equipmentPrice)),"minus"===i&&(t>=3&&t<6?this.equipmentPrice-=e+m*(this.timeHour-3):t>=6&&t<12?this.equipmentPrice-=s+m*(this.timeHour-6):t>=12&&(this.equipmentPrice-=n+m*(this.timeHour-12)),console.log("minusPrice: "+this.equipmentPrice))}},dateInsert(e){this.blockTimeList=[];for(var t=0;t<e.length;t++)1==e[t].state&&this.blockTimeList.push(parseInt(e[t].time))},getDisabledate(){He().ajax({url:this.hostAddressName+"/studio/reserve/"+this.rooms[this.select_studio].studioNum+"/"+this.date,method:"GET",type:"get",dataType:"json",success:e=>{this.dateInsert(e),console.log(e)},error:function(e){console.log(""),console.log("[serverUploadImage] : [error] : "+e),console.log("")},complete:function(e,t){console.log(""),console.log("[server] : [complete] : "+t),console.log("")}})},getDisableEquipment(){for(var e="",t=0;t<=this.timeList.length-1;t++)e+=this.timeList[t].substring(0,2);console.log(this.timeList),console.log("timeTable:"+e),He().ajax({url:this.hostAddressName+"/studio/equipment/"+this.date+"/"+e,method:"GET",type:"get",dataType:"json",success:e=>{console.log("[server] : [success] : "+e),this.getDisableState(e)},error:function(e){console.log(""),console.log("[serverUploadImage] : [error] : "+e),console.log("")},complete:function(e,t){console.log(""),console.log("[server] : [complete] : "+t),console.log("")}})},getDisableState(e){var t=["camera","monitor","MicAudio","LightSubFilm"],i=["camera","monitor","micAudio","lightSubFilm"];this.disableEquipmentName=[],this.disableEquipmentNum=[],this.Selected.equipmentNum=[],this.resetEquipmentPrice(),this.resetEquipmentData();for(var s=0;s<e.length;s++){const t=e[s].equipmentNum,i=e[s].equipmentState,n=e[s].remainCount;0===i&&this.disableEquipmentNum.push(t),n>=1&&(this.SelectedEquipmentCount.equipmentRemainCount[t-1]=n),console.log("장비번호 : "+t),console.log("장비상태 : "+i),console.log("장비잔여개수 : "+n)}this.disableEquipmentNum=[...new Set(this.disableEquipmentNum)],console.log("사용 불가능 장비 번호"+this.disableEquipmentNum);for(var n=0;n<t.length;n++){for(var l=0;l<this.equipments[t[n]].length;l++)for(var o=0;o<this.disableEquipmentNum.length;o++)this.equipments[t[n]][l].equipmentNum===this.disableEquipmentNum[o]&&this.disableEquipmentName.push(this.equipments[t[n]][l].name);this.Equipments[i[n]]=this.Equipments[i[n]].filter((e=>!this.disableEquipmentName.includes(e)))}console.log(this.disableEquipmentName)},async captureScreenshot(){const e=document.getElementById("pdf"),t=await Fe()(e,{scale:2}),i=new Ue.ZP({orientation:"portrait",unit:"px",format:"a4"});i.addImage(t.toDataURL("image/jpeg",1),"JPEG",0,0,i.internal.pageSize.width,i.internal.pageSize.height),i.save("screenshot.pdf")}}},ze=i(89);const Me=(0,ze.Z)(Ve,[["render",De],["__scopeId","data-v-213f79ab"]]);var We=Me}}]);
//# sourceMappingURL=141.d521118f.js.map